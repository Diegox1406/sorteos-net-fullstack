@{
    ViewBag.Title = "Ingreso al Sistema";
    Layout = "~/Views/Shared/_LoginLayout.cshtml";
}

<style>
    html, body {
        height: 100%;
        margin: 0;
    }

    body {
        background-image: url('https://images.unsplash.com/photo-1555041469-a586c61ea9bc?q=80&w=2070&auto=format&fit=crop');
        background-size: cover;
        background-position: center;
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .login-container {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        height: 100%;
    }

    .login-card {
        background-color: rgba(255, 255, 255, 0.9);
        border-radius: 15px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        max-width: 450px;
        width: 100%;
    }

    .login-card .card-header {
        background-color: #8B4513; /* Tono madera */
        color: white;
        border-top-left-radius: 15px;
        border-top-right-radius: 15px;
        padding: 20px;
    }

    .login-card .card-header h3 {
        font-weight: 300;
    }

    .input-group-text {
        background-color: #D4AF37; /* Acento dorado */
        border: none;
        color: white;
    }

    .form-control:focus {
        border-color: #D4AF37;
        box-shadow: 0 0 0 0.25rem rgba(212, 175, 55, 0.25);
    }

    .btn-primary {
        background-color: #8B4513;
        border-color: #8B4513;
        font-weight: bold;
        padding: 12px;
        transition: background-color 0.3s ease;
    }

    .btn-primary:hover {
        background-color: #A0522D;
        border-color: #A0522D;
    }

</style>

<!-- Añadimos FontAwesome para los iconos -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<div class="login-container">
    <div class="card login-card">
        <div class="card-header">
            <h3 class="text-center">Bienvenido a Grupo Essential EIRL</h3>
    </div>
    <div class="card-body p-4">
        <form method="post" action="@Url.Action("Index", "Inicio")" class="needs-validation" novalidate>
            <div class="input-group mb-4">
                <span class="input-group-text"><i class="fas fa-user"></i></span>
                <input type="text" class="form-control" id="txtUsu" name="usuario" placeholder="Usuario" required />
                <div class="invalid-feedback">
                    Por favor ingresa un usuario.
                </div>
            </div>

            <div class="input-group mb-4">
                <span class="input-group-text"><i class="fas fa-lock"></i></span>
                <input type="password" class="form-control" id="txtCla" name="clave" placeholder="Contraseña" required />
                <div class="invalid-feedback">
                    Por favor ingresa una clave.
                </div>
            </div>

            <button type="submit" class="btn btn-primary w-100">Ingresar</button>
        </form>

        @if (ViewBag.ErrorMessage != null)
        {
            <div class="alert alert-danger alert-dismissible fade show mt-3" role="alert">
                @ViewBag.ErrorMessage
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
            </div>
        }
    </div>
</div>

<script>
    (function () {
        'use strict';
        var forms = document.querySelectorAll('.needs-validation');
        Array.prototype.slice.call(forms).forEach(function (form) {
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.classList.add('was-validated');
            }, false);
        });
    })();
</script>